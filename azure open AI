
DB observability: 

n8n FieldValue to Enter

Resource Name:  wbgtipmvp8142541137

Deployment Namegpt-4.1

API Key: FddjfbI7VClAUqJIzg68WmYyCwT3Oyj9G3YuX3KAZnLhTDnKyAAWJQQJ99BDACYeBjFXJ3w3AAAAACOGXoAT
API Version:  2024-12-01-preview

Endpoint: https://wbgtipmvp8142541137.openai.azure.com/

===============================


AZURE_OPENAI_API_KEY=FddjfbI7VClAUqJIzg68WmYyCwT3Oyj9G3YuX3KAZnLhTDnKyAAWJQQJ99BDACYeBjFXJ3w3AAAAACOGXoAT
AZURE_OPENAI_ENDPOINT=https://wbgtipmvp8142541137.openai.azure.com/
AZURE_API_BASE=${AZURE_OPENAI_ENDPOINT}
AZURE_OPENAI_API_VERSION=2024-12-01-preview
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4.1
AZURE_OPENAI_MODEL_NAME=
AZURE_OPENAI_MAX_TOKENS=30000 #MAX FOR 4.1 = 1M/TPM
AZURE_OPENAI_EMBEDDINGS_DEPLOYMENT_NAME=text-embedding-3-large
USE_AZURE_OPENAI=true
 
BLOB_SAS_URL=https://wbgeatippoc.blob.core.windows.net/techdebt?sp=racwdl&st=2025-06-12T02:48:46Z&se=2025-12-31T11:48:46Z&spr=https&sv=2024-11-04&sr=c&sig=uJ3qqetj1G60gLm%2B5gbtUlyO4vZsLmbyUpz8w8JfyQc%3D


=============

"""
LLM factory utilities.
 
This module provides functions to create language models for CrewAI,
including support for both OpenAI and Azure OpenAI.
"""
 
import os
from typing import Optional
from dotenv import load_dotenv
from crewai import LLM
 
 
def create_llm_for_crew(model_name: Optional[str] = None) -> LLM:
    """Create a language model instance for CrewAI based on environment configuration.
    
    Args:
        model_name: Optional model name to use
        
    Returns:
        Configured LLM instance for CrewAI
    """
    # Ensure environment variables are loaded
    load_dotenv()
    
    # Check if Azure OpenAI should be used
    use_azure = os.getenv("USE_AZURE_OPENAI", "false").lower() == "true"
    
    if use_azure:
        # Get Azure OpenAI configuration directly from environment variables
        api_key = os.getenv("AZURE_OPENAI_API_KEY")
        endpoint = os.getenv("AZURE_OPENAI_ENDPOINT")
        deployment = os.getenv("AZURE_OPENAI_DEPLOYMENT_NAME") or model_name or "gpt-4"
        
        # Format the model name for Azure - this is the key to making it work
        azure_model = f"azure/{deployment}"
        
        # Create LLM with the exact configuration that works
        return LLM(
            model=azure_model,
            api_key=api_key,
            base_url=endpoint,
            temperature=0.2  # Lowered temperature for better instruction following
        )
    else:
        # Use standard OpenAI with the new CrewAI API
        return LLM(
            model=model_name or "gpt-4",
            config={
                "api_key": os.getenv("OPENAI_API_KEY"),
                "temperature": 0.2  # Lowered temperature for better instruction following
            }
        )
 
 
16:06 Meeting ended: 36m 2s 

===================



In similar way we have sequence diagram. 
We are going ahead with demo solution using 




________________________________________
From: Prakash Hajela, Rajneesh (Cognizant) <Rajneesh.PrakashHajela@cognizant.com>
Sent: Thursday, December 18, 2025 3:11 PM
To: Popuri, Venkata (Cognizant) <Venkata.Popuri@cognizant.com>
Cc: Natarajan, Satheeshkumar (Cognizant) <Satheeshkumar.Natarajan@cognizant.com>; Menon, Vinod (Cognizant) <Vinod.Menon@cognizant.com>
Subject: RE: Sequence diagram flow.


Hi Venkata,
 
Prepared sequence diagram for each steps,
 
 
 
Scenario 1 (DB Observability) → DBA approves mitigation path before fix is applied.
Scenario 2 (Database Selection) → DBA approves recommended DB before provisioning.
Scenario 3 (DML/DDL Observability) → DBA approves schema change before Runner Agent executes.
 
DB Observability:
 
Agent / Actor
Role
User
Reports DB issue and provides context
Chat Interface
Collects structured inputs and communicates results
Root Agent
Orchestrates observability, compliance, approval, and resolution
DB Observability Agent
Pulls metrics/events, validates compliance, synthesizes diagnosis, monitors fix
Observability Platform
Supplies performance metrics and anomaly data
Event System
Provides correlated infra events(autonomous agent/service that executes itself when triggered by another agent)
Governance & Compliance Agent
Ensures observability scope meets audit/policy rules
DBA Team
Provides HITL approval, applies fix, confirms resolution
 
2. Database Selection agent
 
      
Agent / Actor
Role & Responsibilities
User
Requests a database for analytics workload, provides environment (e.g., QA) and SLA constraints (latency, cost, concurrency, storage).
Chat Interface
Collects workload, environment, and SLA inputs step‑by‑step, submits structured request to Root Agent, and communicates results back to the user.
Root Agent
Orchestrates the selection process, triggers Database Selection Agent, requests DBA approval, and routes provisioning to Database Provisioning Agent.
Database Selection Agent (DSA)
Central decision‑maker: validates compliance, checks infra events, evaluates SLA constraints internally, and synthesizes DB recommendation (e.g., Redshift).
Governance & Compliance Agent (GOV)
Validates environment rules and data sensitivity policies, ensuring compliance before DB recommendation is finalized.
Event System (ES)
Supplies recent infrastructure events (outages, provisioning delays) to avoid conflicts with the recommended DB. (autonomous agent/service that executes itself when triggered by another agent)
DBA Team (HITL)
Reviews the recommended DB choice and provides human approval before provisioning is triggered.
Database Provisioning Agent (DPA)
Receives the approved DB recommendation, provisions the DB instance in the specified environment (e.g., QA), and prepares it for workload execution.
 
Scenario 3 - DML/DDL Observability
 
Agent / Actor
Role
User
Requests schema change and provides DB type + intent
Chat Interface
Collects inputs and communicates results
Root Agent
Orchestrates observability, approval, and execution
DML/DDL Observability Agent
Validates compliance, checks infra events, monitors execution
Governance & Compliance Agent
Ensures schema changes comply with audit rules
Event System
Supplies infra events for risk avoidance
DBA Team (HITL)
Provides human approval before execution
DML/DDL Runner Agent
Executes approved DML/DDL operations
 
 
Thanks & Regards,
Rajneesh Hajela
 
From: Prakash Hajela, Rajneesh (Cognizant)
Sent: 18 December 2025 11:02
To: Popuri, Venkata (Cognizant) <Venkata.Popuri@cognizant.com>
Cc: Natarajan, Satheeshkumar (Cognizant) <Satheeshkumar.Natarajan@cognizant.com>; Menon, Vinod (Cognizant) <Vinod.Menon@cognizant.com>
Subject: Sequence diagram flow.
 
Hi,
 
Find update related documents.
 
